install.packages("ordinal")
library(ordinal)
install.packages("emmeans")
library(emmeans)

# Read data
scores_long <- read.csv(file = "data/ethics_long.csv")
# Ordinal package is expecting a factor for the response variable
scores_long$ScoreOrdinal <- as.factor(scores_long$Score)

# Run mixed model: Area as fixed, program as random; 
# setting threshold = "equidistant" avoids downstream errors in post-hoc tests
scores_clmm <- ordinal::clmm(ScoreOrdinal ~ Area + (1|Program),
                             data = scores_long,
                             threshold = "equidistant") 

# Fit a fixed-effects version (no random effects), Area as fixed effect
# setting threshold = "equidistant" avoids downstream errors in post-hoc tests
model.fixed <- ordinal::clm(ScoreOrdinal ~ Area,
                            data = scores_long,
                            threshold = "equidistant")
                         
# Compute VIF
install.packages("car")
library("car")

vif(model.fixed)
